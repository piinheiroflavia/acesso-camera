<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" crossorigin="anonymous">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" crossorigin="anonymous"></script>
    <script src="camera.js"></script>
    <title>JS Camera API | KMT</title>
    <style>
        .camera-wrapper {
            position: relative;
            width: 300px;
            height: 300px;
            margin: 0 auto;
        }

        video#video {
            width: 100%;
            height: 100%;
            border-radius: 20px;
        }

        .grid-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        .grid-overlay div {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.5);
        }

        /* Linhas horizontais */
        .grid-h1 { top: 33%; left: 0; width: 100%; height: 1px; }
        .grid-h2 { top: 66%; left: 0; width: 100%; height: 1px; }

        /* Linhas verticais */
        .grid-v1 { left: 33%; top: 0; height: 100%; width: 1px; }
        .grid-v2 { left: 66%; top: 0; height: 100%; width: 1px; }
    </style>
</head>
<body>
    <nav style="background-color: black; padding: 5px;">
        <a href="./cameraDisposito.html" style="color: #fff;">trocar</a>
        <a href="./cameraDispositoGrid.html" style="color: #fff;">trocar com grid</a>
    </nav>

    <div class="mt-5" style="text-align: center;">
        <button onclick="abrirCamera()" class="btn btn-primary">Abrir Câmera</button>
    </div>

    <div class="mt-5" style="text-align: center; display: none;" id="divCamera">
        <div class="camera-wrapper">
            <video id="video" autoplay playsinline></video>

            <!-- Grade de enquadramento -->
            <div class="grid-overlay">
                <div class="grid-h1"></div>
                <div class="grid-h2"></div>
                <div class="grid-v1"></div>
                <div class="grid-v2"></div>
            </div>
        </div>

        <div style="margin-top: 10px;">
            <button onclick="switchCamera()" class="btn btn-primary">Trocar câmera</button>
            <button type="button" class="btn btn-primary" onclick="clickPhoto();">Tirar Foto</button>
        </div>

        <hr>
    </div>
    <div style="text-align: center; display: none;" id="divImg">
        <h3>Sua imagem aqui!</h3>
        <canvas id="myCanvas" width="300" height="300" style="border-radius: 20px;"></canvas>
    </div>


</body>
</html>
